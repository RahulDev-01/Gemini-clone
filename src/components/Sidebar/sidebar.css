.sidebar {
	min-height: 100vh;
	display: inline-flex;
	flex-direction: column;
	justify-content: space-between;
	background-color: var(--surface-color);
	padding: 25px 15px;
    transition: width 0.3s ease, background-color 0.3s ease;
}

.sidebar .top {
    display: flex;
    flex-direction: column;
}

.sidebar img {
	width: 20px;
    /* Invert icons based on theme: 
       In dark mode (default), icons are black so we invert to white (original logic).
       In light mode, we want them dark (original), so less invert or none.
       BUT, let's assume icons are black by default.
       Dark mode: text is white, so icons should be white -> invert(1).
       Light mode: text is black, so icons should be black -> invert(0).
    */
    filter: invert(1); 
    opacity: 0.7;
    transition: opacity 0.2s ease, filter 0.3s ease;
}

body.light-mode .sidebar img {
    filter: invert(0); 
    opacity: 0.6;
}

.sidebar img:hover {
    opacity: 1;
}

.sidebar .menu {
	display: block;
	margin-left: 10px;
	cursor: pointer;
}

.sidebar .new-chat {
    margin-top: 50px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    background-color: var(--background-color); /* Was #282a2c */
    border-radius: 50px;
    font-size: 14px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
}

.sidebar .new-chat:hover {
    background-color: var(--hover-color); /* Was #37393b */
    color: var(--text-primary);
}

.sidebar .new-chat img {
    filter: invert(0.5);
}

body.light-mode .sidebar .new-chat img {
    filter: invert(0.5); /* Keep it greyish */
}

body.light-mode .sidebar .new-chat:hover img {
    filter: invert(0);
}

.sidebar .recent {
    display: flex;
    flex-direction: column;
    animation: fadeIn 1s;
}

.sidebar .recent-title {
    margin-top: 30px;
    margin-bottom: 20px;
    font-size: 14px;
    color: var(--text-primary);
    padding-left: 10px;
}

.sidebar .recent-entry {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    padding-right: 40px;
    border-radius: 50px;
    color: var(--text-primary);
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s ease, color 0.2s ease;
    margin-bottom: 4px;
}

.sidebar .recent-entry:hover {
    background-color: var(--hover-color);
}

.sidebar .recent-entry.active {
    background-color: var(--accent-color); /* Dark blue #004a77 or accent */
    color: #fff;
    opacity: 0.9;
}

.sidebar .recent-entry.active p {
    font-weight: 500;
}

.sidebar .bottom {
    display: flex;
    flex-direction: column;
}

.sidebar .bottom-item {
    padding-right: 10px;
    cursor: pointer;
}

@media (max-width: 600px) {
    .sidebar {
        display: none;
    }
}